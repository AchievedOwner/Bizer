@namespace Bizer.AspNetCore.Components
@inherits MenuComponentBase
<ul class="@Class" style="height:100vh;overflow-y:hidden">
    @foreach (var item in SideMenus)
    {
        if (item.Items.Any())
        {
            <Collapse>
                <TriggerContent>
                    <NavItem>
                        <NavAnchor Link="javascript:;" AdditionalClass="text-reset">
                            <MenuTitle Item="item" />
                        </NavAnchor>
                    </NavItem>
                </TriggerContent>
                <ChildContent>
                    <ul class="nav flex-column ms-4">
                        @foreach (var sub in item.Items)
                        {
                            <NavItem>
                                <NavAnchor Link="@sub.Link" AdditionalClass="text-reset">
                                    <MenuTitle Item="sub" />
                                </NavAnchor>
                            </NavItem>
                        }
                    </ul>
                </ChildContent>
            </Collapse>
        }
        else
        {
            <NavItem>
                <NavAnchor Link="@item.Link" AdditionalClass="text-reset">
                    <MenuTitle Item="item" />
                </NavAnchor>
            </NavItem>
        }

    }
</ul>

@code {
    string? Class => HtmlHelper.Instance.Class()
                                .Append("nav")
                                .Append("flex-column")
                                .Append(Options.Theme.MenuColor.GetCssClass("bg-"))
                                .Append("text-light", Options.Theme.MenuColor.IsDark())
                                .ToString();
}